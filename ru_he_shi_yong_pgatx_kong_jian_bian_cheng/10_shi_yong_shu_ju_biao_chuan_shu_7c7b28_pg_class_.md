## 10\. 使用数据表传输类(PG_CLASS_Table) {#10-pg-class-table}

### 1) 数据表传输 {#1}

数据表传输类以类似操作数据库的方式，在多点之间传输数据。一个数据表传输对象对应一个数据表，数据表内的数据以记录、字段的方式存储。在一个节点上调用PG_METH_TABLE_Insert、PG_METH_TABLE_Update和PG_METH_TABLE_Delete方法对数据表记录进行插入、修改和删除时，数据所作的变更会实时地同步到通信组内的其他节点。调用PG_METH_TABLE_Query方法查询或同步到来自其他节点的数据变更时，系统调用PG_METH_TABLE_Report方法上报给应用程序。

### 2) 文件传输模式 {#2}

文件传输模式是数据表传输类的增强功能，用PG_ADD_TABLE_File选项开启。开启文件传输模式后，数据表的一条记录存储一个文件的属性信息，包括URL、路径、长度、修改时间、摘要和传输状态。数据表同步文件属性信息的同时，也把文件内容也同步到通信组内的其他节点。请参考“[说明：文件传输模式](..\jie_dian_gong_neng_lei_de_bian_cheng_can_80033a\11_pgclasslive_7c7b3a.md#6)”章节。

### 3) 强制同步传输 {#3}

如果数据表中某些记录已经没有源（添加这些记录的节点已经不在通信组里了），则数据表的同步操作就会停止在这些记录上，不能再继续传输数据，这种情况称为记录空洞(Hole)。调用PG_METH_TABLE_Sync方法可以跳过这些没有源的记录继续同步后面有源的记录。